<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/i/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">

  <!-- Mobile viewport optimized: h5bp.com/viewport -->
  <meta name="viewport" content="width=device-width">

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

	<link rel="stylesheet" href="css/reset.css" />
	<link rel="stylesheet" href="css/text.css" />
	<link rel="stylesheet" href="css/960.css" />
	<link rel="stylesheet" href="css/style.css">

  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->

  <!-- All JavaScript at the bottom, except this Modernizr build.
       Modernizr enables HTML5 elements & feature detects for optimal performance.
       Create your own custom Modernizr build: www.modernizr.com/download/ -->
  <script src="js/libs/modernizr-2.5.3.min.js"></script>
   <script type="text/javascript" src="js/libs/jquery-1.7.1.min.js"></script>
   <script type="text/javascript" src="js/libs/jquery-ui-1.8.20/js/jquery-ui-1.8.20.custom.min.js"></script>
  <link rel="stylesheet" href="js/libs/fancybox/source/jquery.fancybox.css?v=2.0.6" type="text/css" media="screen" />
  <link rel="stylesheet" href="js/libs/jquery-ui-1.8.20/css/blitzer/jquery-ui-1.8.20.custom.css" type="text/css" media="screen" />

  <script type="text/javascript">
	$(function() {
/*   		$('.fancybox').fancybox(); */
/*   
KNOWN BUGS (x = done)		
	- if you drag a group onto the same box, apply changes still gets fired
	- overflow-y on group boxes to make them have a reasonable size messes with draggable

TO-DO (x = done)		
	x move devices from unassigned to group, vice versa
	x move devices between groups
	x create group adds a new devices_box
	x hover states where needed
	x checkbox click image switch
	x edit name group

 */
		//group box hover crap
		$('.devices_box li').live({
	        mouseenter:
	           function()
	           {
				$(this).find('.info_trig').removeClass('hideme');
	           },
	        mouseleave:
	           function()
	           {
				$(this).find('.info_trig').addClass('hideme');
	           }
		       
		});
		
		//group box hover, edit behavior
		$('.group_box .group_name').live({
	        mouseenter:
	           function()
	           {
				$(this).addClass('borderme');
	           },
	           
	        mouseleave:
	           function()
	           {
				$(this).removeClass('borderme');
	           },
	           
	        click:
	           function()
	           {
				$(this).hide().siblings('.edit_group_name').show().focus();
	           }
	       
		});

		//group name edit behavior
		$('.group_box .edit_group_name').live({
	        /*
focus:
	           function()
	           {
	           	var new_group_name = $(this).val();
				$(this).hide().siblings('.group_name').show().text(new_group_name);
	           },
*/				
			 keypress:
			 	function(e)
		        {
		            code= (e.keyCode ? e.keyCode : e.which);
		            if (code == 13) {
		            	$(this).trigger('blur');
		        	}
		        },
	        
	        blur:
	           function()
	           {
				var new_group_name = ($.trim($(this).val()).length !== 0) ? $(this).val() : $(this).siblings('.group_name').text();
				if($.trim($(this).val()).length !== 0 && $.trim($(this).val()) !== $(this).siblings('.group_name').text()) $('#apply_trigger').fadeIn();	
				
				$(this).hide().siblings('.group_name').text(new_group_name).show();

	           }
       
		});

		
		
	
		
		// Create group
		$('.content_bar .new_group_trig').click(function(){
			var $group_box_template = $('.group_box.templateme').clone();
			$group_box_template.appendTo('.group_boxes .grid_12');
			
			
			//calculate alpha, omega classes
			if ($group_box_template.prev('.group_box').hasClass('omega')){
				$group_box_template.addClass('alpha');
			}
			
			if (!$group_box_template.prev('.group_box').hasClass('alpha') &&  
				!$group_box_template.prev('.group_box').hasClass('omega')){
				$group_box_template.addClass('omega');
				$group_box_template.append('<div class="clear"></div>');
			}
			
			//cleanup, bind droppable
			$group_box_template.removeClass('templateme hideme').trigger('start_droppable');
			
		});
		
	
	
		// Drag & drop of devices into groups
		$( ".draggable" ).live({
		
			mouseenter:
		           function()
		           {
		           	$(this).draggable({
		           		scroll: false,
			  			revert: true,
						start: function(event, ui) {
							$( this )
								.css('z-index','2')
								.data({
									'name':$( this ).find('.device_name').text(),
									'ip':$( this ).find('.device_ip').text(),
									'id' : '{#colinfigureitout}'
								});
							}
					});
		           }
		});
		
		//Bind custom event so new groups can call it to on their creation
		$( ".droppable" ).live('start_droppable', function(){
		
			$(this).droppable({
				hoverClass: "droppable_hover",
	
				
				drop: function( event, ui ) {
					var $new_device = $( this ).find( ".templateme" ).clone();
					
					$new_device
						.removeClass('templateme hideme')
						.find('.device_name')
							.text(ui.draggable.data('name'))
							.end()
						.find('.device_ip')
							.text(ui.draggable.data('ip'))
							.end()
						.appendTo($(this).find('ul'));
					
					ui.draggable.remove();
					
					$('#apply_trigger').fadeIn();	
				}
			});
		});
		//instantiate now for existing droppables
		$( ".droppable" ).trigger('start_droppable');
  	});
  </script>

</head>
<body>
  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
  <header class="container_16" id="header">
  
		  <div class="grid_1">
		    <a href="javascript:void(0);" class="home_link">Home</a>
		  </div>
		  <!-- end .grid_2 -->
		  <div class="advanced_box">
		    <p>  <a href="javascript:void(0);">[+] advanced tomato</a> </p>
		    <p> Tuesday, June 3 14:30 </p>
		  </div>
	
		    <h1> St. James Hospital </h1>
		  <div class="clear"></div>	  
  </header>
  <!-- end #header -->
  
  <div role="main" id="groups" class="main container_16">	  
	  
	  <div id="topnav">
		<ul>
			<li>
				<a href="javascript:void(0);">Overview</a>
			</li>
			<li class="active_tab">
				<a href="javascript:void(0);">Groups</a>
			</li>
			<li>
				<a href="javascript:void(0);">Computers</a>
			</li>
			<li>
				<a href="javascript:void(0);">Settings</a>
			</li>
		</ul>		
		    
		<div class="clear"></div>
	  </div>
	  <!-- end #topnav -->
	  

	  <div id="content">
	  	<div class="content_bar">
	  	
		  <div class="grid_4 alpha bar_title">
		    <p> Universal Blocking Rules </p>
		  </div>
		  <!-- end .bar_title -->
		  <div class="grid_10 bar_options">
		  	<span class="univ_block_box">
		  		<input type="checkbox" name="block_adult" class="check"/>
<!-- 		  		<a href="javascript:void(0);" class="pretty_check pretty_check_off">Block Adult Content</a> -->
		  		Block Adult Content
		  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
		  	</span>
		  	
		  	<span class="univ_block_box">
		  		<input type="checkbox" name="block_ads" class="check"/>
<!-- 		  		<a href="javascript:void(0);" class="pretty_check pretty_check_on">Block Advertisements</a> -->
		  		Block Advertisements
		  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
		  	</span>
			
		  </div>
		  <!-- end .bar_options -->
		  <div class="grid_2 new_group_trig_box">
		  		<a href="javascript:void(0);" class="new_group_trig">Create Group</a>
		  </div>
		  <div class="clear"></div>

		</div>
	  <!-- end .content_bar -->
	  
	 
	  
	  <div id="groups_sidenav" class="grid_4 alpha sidenav droppable">
	  	<div class="sidenav_header">
			<p>Unassigned Devices</p>
			<p class="extra_info">Drag the devices below to assign them to a group</p>
		</div>	 
		<a href="javascript:void(0);" id="apply_trigger" style="display:none;">Apply Changes</a> 	
		
		<ul class="device_list ">
			<li class="draggable hideme templateme">
		  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
		  		<p class="device_name">device_name</p>
		  		<span class="float_right device_ip">192.168.10.110</span>
		  		<span>IP Address</span>
			</li>
			<li class="draggable">
		  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
		  		<p class="device_name">Dell D620000</p>
		  		<span class="float_right device_ip">192.168.10.110</span>
		  		<span>IP Address</span>
			</li>
			<li class="draggable">
		  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
		  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
		  		<p class="device_name">Ariel Laptop</p>
		  		<span class="float_right device_ip">192.168.10.22</span>
		  		<span>IP Address</span>
			</li>
			<li class="draggable">
		  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
		  		<p class="device_name">Elliot Phone</p>
		  		<span class="float_right device_ip">192.168.10.10</span>
		  		<span>IP Address</span>
			</li>
		</ul>
		

	  	<div class="sidenav_footer">
	  		<a href="javascript:void(0);" class="nicebutton edit_rules_trig"><span class="lock_arrow_button">Edit Rules</span></a>
  		</div>
	  </div>
	  <!-- end .sidenav -->
	  
	  

	  
	  
	  <div class="content_body group_boxes">
	  	<div class="grid_12 omega">
	  	<div class="grid_4 group_box droppable templateme hideme">
		    <p class="group_name">group_name</p>
		    <input type="text" class="edit_group_name" />
		    <div class="devices_box ">
	    		<ul>
	    			<li class="draggable hideme templateme">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">device_name</span>
				  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
					</li>
				</ul>
		    </div>
		    <a href="javascript:void(0);" class="device_box_actions nicebutton del_group_trig"><span class="del_button">Ungroup</span></a>
		    <a href="javascript:void(0);" class="device_box_actions nicebutton edit_group_trig"><span class="lock_arrow_button">Edit Rules</span></a>

		 </div>
	  	
		  <div class="grid_4 group_box alpha droppable">
		    <p class="group_name">Nurses Stations 1</p>
		    <input type="text" class="edit_group_name" />
		    <div class="devices_box ">
	    		<ul>
	    			<li class="draggable hideme templateme">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">device_name</span>
				  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
					</li>
	    		
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D6201</span>
				  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
					</li>
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
				</ul>
		    </div>
		   

			<a href="javascript:void(0);" class="device_box_actions nicebutton del_group_trig"><span class="del_button">Ungroup</span></a>
		    <a href="javascript:void(0);" class="device_box_actions nicebutton edit_group_trig"><span class="lock_arrow_button">Edit Rules</span></a>

		    
		  </div>
		  <!-- end .grid_4 -->
		  
		  <div class="grid_4 group_box droppable">
			<p class="group_name">Nurses Stations 2</p>
		    <input type="text" class="edit_group_name" />		    
		    
		    <div class="devices_box">
	    		<ul>
	    			<li class="draggable hideme templateme">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">device_name</span>
				  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
					</li>
	    		
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D6201</span>
				  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
					</li>
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
					<li class="draggable">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
				</ul>
		    </div>		
		    <a href="javascript:void(0);" class="device_box_actions nicebutton del_group_trig"><span class="del_button">Ungroup</span></a>
		    <a href="javascript:void(0);" class="device_box_actions nicebutton edit_group_trig"><span class="lock_arrow_button">Edit Rules</span></a>  
		  </div>
		  <!-- end .grid_4 -->
		  
		  <div class="grid_4 group_box omega">
			<p class="group_name">Nurses Stations 3</p>
		    <input type="text" class="edit_group_name" />		 
		       
		    <div class="devices_box">
	    		<ul>
					<li>
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme">more info</a>
					</li>
					<li class="shademe">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
					<li>
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
					<li class="shademe">
				  		<a href="javascript:void(0);" class="box_handle">Drag Me</a>
				  		<span class="device_name">Dell D620</span>
				  		<a href="javascript:void(0);" class="info_trig hideme hideme">more info</a>
					</li>
				</ul>
		    </div>
		    <a href="javascript:void(0);" class="device_box_actions nicebutton del_group_trig"><span class="del_button">Ungroup</span></a>
		    <a href="javascript:void(0);" class="device_box_actions nicebutton edit_group_trig"><span class="lock_arrow_button">Edit Rules</span></a>
		  </div>
		  <!-- end .grid_4 -->
		  
  	  </div>
	  <!-- end .content_body -->
	  
	  
	  

		  <div class="clear"></div>
	  </div>
	  <!-- end #content -->
	  
  </div>
  <!-- end #main -->

  <footer class="container_16" id="footer">
		<p>Copyright 2012 EasyTomato.org</p>
  </footer>


  <!-- JavaScript at the bottom for fast page loading -->
<!--   <script type="text/javascript" src="/js/groups.js"></script> -->
  <!-- end scripts -->

</body>
</html>
