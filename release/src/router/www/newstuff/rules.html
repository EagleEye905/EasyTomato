<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/i/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">

  <!-- Mobile viewport optimized: h5bp.com/viewport -->
  <meta name="viewport" content="width=device-width">

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

	<link rel="stylesheet" href="css/reset.css" />
	<link rel="stylesheet" href="css/text.css" />
	<link rel="stylesheet" href="css/960.css" />
	<link rel="stylesheet" href="css/style.css">

  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->

  <!-- All JavaScript at the bottom, except this Modernizr build.
       Modernizr enables HTML5 elements & feature detects for optimal performance.
       Create your own custom Modernizr build: www.modernizr.com/download/ -->
  <script src="js/libs/modernizr-2.5.3.min.js"></script>
  <script type="text/javascript" src="js/libs/jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="js/libs/jquery-ui-1.8.20/js/jquery-ui-1.8.20.custom.min.js"></script>
  <script type="text/javascript" src="js/libs/fullcalendar/fullcalendar.min.js"></script>
   

  <link rel="stylesheet" href="js/libs/jquery-ui-1.8.20/css/blitzer/jquery-ui-1.8.20.custom.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="js/libs/fancybox/source/jquery.fancybox.css?v=2.0.6" type="text/css" media="screen" />
  <link rel="stylesheet" href="js/libs/fullcalendar/fullcalendar.css" type="text/css" media="screen" />

  <script type="text/javascript">
	$(function() {
  		$('.fancybox').fancybox();
  		
/*  
		
KNOWN BUGS (x = done)		
	

TO-DO (x = done)		
	- CRUD rules (colin)
	- Create/Update rule updates calendar (colin)
	x Enable/disable rule
	- $('#apply_trigger').fadeIn(); whenever needed	(colin)

*/



		
		
		
		
		
  		
  		var date = new Date();
		var d = date.getDate();
		var m = date.getMonth();
		var y = date.getFullYear();
		
		//Make the rules display in the weekly calendar view in the proper day of week, irrespective of what actual date it is today.
		function gimmeWeekDay(tgt_weekday){
  			var today = date.getDay();			
			var delta = tgt_weekday - today;
			
			return delta;			
		}
		
		var calendar = $('#calendar').fullCalendar({
			header: false,
			defaultView: 'basicWeek', //MM- i like agendaWeek too, not sure which one to use
			selectable: false,
			selectHelper: true,
			select: function(start, end, allDay) {
				var title = prompt('Event Title:');
				if (title) {
					calendar.fullCalendar('renderEvent',
						{
							title: title,
							start: start,
							end: end,
							allDay: allDay
						},
						true // make the event "stick"
					);
				}
				calendar.fullCalendar('unselect');
			},
			editable: false,
			events: [
				{
					title: 'Single day event',
					start: new Date(y, m, 1)
				},
				{
					title: 'Youtube Block',
					start: new Date(y, m, d + gimmeWeekDay(1)),
					end: new Date(y, m, d + gimmeWeekDay(3))
				},
				/*
{
					id: 999,
					title: 'No Social Media Event',
					start: new Date(y, m, d-3, 16, 0),
					end:new Date(y, m, d-3, 16, 30),
					allDay: false
				},
				{
					id: 999,
					title: 'Repeating Eventz',
					start: new Date(y, m, d-2, 16, 0),
					end:new Date(y, m, d-2, 16, 30),
					allDay: false
				},
*/
				{
					title: 'Meeting',
					start: new Date(y, m, d, 10, 30),
					allDay: false
				},
				{
					title: 'Lunch',
					start: new Date(y, m, d, 12, 0),
					end: new Date(y, m, d, 14, 0),
					allDay: false
				},
				{
					title: 'Birthday Party',
					start: new Date(y, m, d+1, 19, 0),
					end: new Date(y, m, d+1, 22, 30),
					allDay: false
				},
				{
					title: 'Click for Google',
					start: new Date(y, m, 28),
					end: new Date(y, m, 29),
					url: 'http://google.com/'
				}
			]
		});
  		
  		
  		
		//toggle display of calendar entry on check click
		$('.device_list .box_handle').live({
	        click:
	           function()
	           {
		           	if ($(this).attr('checked')){
		           		calendar.fullCalendar('addEventSource',  
							[
								{
									id: 999,
									title: 'Repeating Eventz',
									start: new Date(y, m, d-2, 16, 0),
									end:new Date(y, m, d-2, 16, 30),
									allDay: false
								}
							]
						);
						$('#apply_trigger').fadeIn();
					}
					else{
						calendar.fullCalendar('removeEvents', 999);
						$('#apply_trigger').fadeIn();						
					}
	           }
	       
		});
  		
  		
  	});
  </script>
  
</head>
<body>
  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
  <header class="container_16" id="header">
  
		  <div class="grid_1">
		    <a href="javascript:void(0);" class="home_link">Home</a>
		  </div>
		  <!-- end .grid_2 -->
		  <div class="advanced_box">
		    <p>  <a href="javascript:void(0);">[+] advanced tomato</a> </p>
		    <p> Tuesday, June 3 14:30 </p>
		  </div>
	
		    <h1> St. James Hospital </h1>
		  <div class="clear"></div>	  
  </header>
  <!-- end #header -->
  
  <div role="main" id="rules" class="main container_16">	  
	  
	  <div id="topnav">
		<ul>
			<li>
				<a href="javascript:void(0);">Overview</a>
			</li>
			<li class="active_tab">
				<a href="javascript:void(0);">Groups</a>
			</li>
			<li>
				<a href="javascript:void(0);">Computers</a>
			</li>
			<li>
				<a href="javascript:void(0);">Settings</a>
			</li>
		</ul>		
		    
		<div class="clear"></div>
	  </div>
	  <!-- end #topnav -->
	  

	  <div id="content">
	  	<div class="content_bar">
	  	
		  <div class="grid_4 alpha back_trigger_box">
<!-- 		    <a href="javascript:void(0);"><span class="goback">Go Back to Groups</span></a> -->
	  		<a href="javascript:void(0);" class="nicebutton back_trigger"><span class="goback_arrow_button">Go Back to Groups</span></a>

		  </div>
		  <!-- end .bar_title -->
		  <div class="grid_12 rules_title">
		  	<h4>Unassigned Computers Schedule</h4>
		  </div>
		  <!-- end .bar_options -->
		 
		  <div class="clear"></div>

		</div>
	  <!-- end .content_bar -->
	  
	 
	  
	  <div id="rules_sidenav" class="grid_4 alpha sidenav">
	  	<div class="sidenav_header">
			<p>Blocking Rules</p>
			<p class="extra_info">Click the checkboxes to enable/disable</p>
			<div class="sub_actions">
				<a href="javascript:void(0);" class="rules_tut_trig">How Rules Work</a>
				<a href="#ruleformbox" class="fancybox new_rule_trig" title="Add/Edit Rule Form"><span class="add_button">New Rule</span</a>

			</div>
		</div>	 
		<a href="javascript:void(0);" id="apply_trigger" style="display:none;">Apply Changes</a> 	
		
		<ul class="device_list">
			<li class="hideme templateme">
		  		<input type="checkbox" class="check box_handle" name="rule_toggle" />
		  		<p class="rule_name">rule_name</p>
		  		<span class="rule_date">Every Day</span>
		  		<div class="rule_actions_box">
		  			<a href="javascript:void(0);" class="delete_rule_trig rule_actions">Remove</a>
		  			<a href="javascript:void(0);" class="edit_rule_trig rule_actions">Edit Rule</a>
		  		</div>
			</li>
			
			
			<li>
		  		<input type="checkbox" class="check box_handle" name="rule_toggle" />
		  		<p class="rule_name">No Social Media</p>
		  		<span class="rule_date">Mon, Tue, Wed, Thu</span>
		  		<div class="rule_actions_box">
		  			<a href="javascript:void(0);" class="delete_rule_trig rule_actions">Remove</a>
		  			<a href="javascript:void(0);" class="edit_rule_trig rule_actions">Edit Rule</a>
		  		</div>
			</li>
			
			<li>
		  		<input type="checkbox" class="check box_handle" name="rule_toggle" />
		  		<p class="rule_name">Youtube block</p>
		  		<span class="rule_date">Every Day</span>
		  		<div class="rule_actions_box">
		  			<a href="javascript:void(0);" class="delete_rule_trig rule_actions">Remove</a>
		  			<a href="javascript:void(0);" class="edit_rule_trig rule_actions">Edit Rule</a>
		  		</div>
			</li>
			
			<li>
		  		<input type="checkbox" class="check box_handle" name="rule_toggle" />
		  		<p class="rule_name">No Internet Sunday</p>
		  		<span class="rule_date">Sunday</span>
		  		<div class="rule_actions_box">
		  			<a href="javascript:void(0);" class="delete_rule_trig rule_actions">Remove</a>
		  			<a href="javascript:void(0);" class="edit_rule_trig rule_actions">Edit Rule</a>
		  		</div>
			</li>
		</ul>
		
<!--
	  	<div class="sidenav_footer">
 	  		<a href="javascript:void(0);" class="nicebutton edit_rules_trig"><span class="lock_arrow_button">Edit Rule</span></a> 
  		</div>
-->
	  </div>
	  <!-- end .sidenav -->
	  
	  

	  
	  
	  <div class="content_body rules_calendar">
	  	<div class="grid_12 omega">
		<div id='calendar'></div>

		</div>
		
		  <div class="clear"></div>
	  </div>
	  <!-- end .content_body -->
	  
	  
	  

		  <div class="clear"></div>
	  </div>
	  <!-- end #content -->
	
	

	<div id="ruleformbox" class="lightbox_content">
		<form>
			<div class="grid_row">
				<span class="section_name">Rule Name</span>
				<input type="text" class="rule_name" name="rule_name" />
			</div>
			
			<div class="grid_row">
				<span class="section_name">Days</span>
				<input type="checkbox" class="check" name="every_day"/>
				<label for="every_day">Every Day</label>
				
				<input type="checkbox" class="check" name="sunday"/>
				<label for="sunday">Sun</label>

				<input type="checkbox" class="check" name="monday"/>
				<label for="monday">Mon</label>
				
				<input type="checkbox" class="check" name="tuesday"/>
				<label for="tuesday">Tue</label>
				
				<input type="checkbox" class="check" name="wednesday"/>
				<label for="wednesday">Wed</label>
				
				<input type="checkbox" class="check" name="thursday"/>
				<label for="thursday">Thu</label>
				
				<input type="checkbox" class="check" name="friday"/>
				<label for="friday">Fri</label>
				
				<input type="checkbox" class="check" name="saturday"/>
				<label for="saturday">Sat</label>
			</div>
			
			<div class="grid_row">
				<span class="section_name">Time</span>
				<input type="checkbox" class="check" name="all_day"/>
				<label for="all_day">All Day</label>
				
				<select class="hourcombo combo start_time_hour" name="start_time_hour"><option value="0" selected="selected">00</option><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option></select>
				
				<select class="mincombo combo" name="start_time_min"><option value="0" selected="selected">00</option><option value="5">05</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option><option value="30">30</option><option value="35">35</option><option value="40">40</option><option value="45">45</option><option value="50">50</option><option value="55">55</option></select>
				
				<span>to</span>
				
				<select class="hourcombo combo" name="end_time_hour"><option value="0" selected="selected">00</option><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option></select>
				
				<select class="mincombo combo" name="end_time_min"><option value="0" selected="selected">00</option><option value="5">05</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option><option value="30">30</option><option value="35">35</option><option value="40">40</option><option value="45">45</option><option value="50">50</option><option value="55">55</option></select>
			</div>
			
			<div class="grid_row custom_block_box">
			
				<input type="checkbox" class="check block_all" name="block_all"/>
				<label for="block_all" style="font-weight:bold;">Block All Internet Access</label>
				
				<input type="checkbox" class="check" name="block_social"/>
				<label for="block_social">Social Media</label>
				
				<input type="checkbox" class="check" name="block_stream"/>
				<label for="block_stream">Streaming Video</label>
			</div>

			<div class="grid_row">
				<span class="section_name">Blocked Websites</span>
				<textarea name="block_sites"></textarea>
			</div>
			
			<a href="javascript:void(0);" class="green_button">Save Rule</a>

		</form>
	</div>	  

  </div>
  <!-- end #main -->

  <footer class="container_16" id="footer">
		<p>Copyright 2012 EasyTomato.org</p>
  </footer>


  <!-- JavaScript at the bottom for fast page loading -->
  <script type="text/javascript" src="js/libs/fancybox/source/jquery.fancybox.js"></script>
  <script type="text/javascript" src="js/rules.js"></script>
  
  <!-- end scripts -->

</body>
</html>
